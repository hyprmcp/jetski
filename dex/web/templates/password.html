{{ template "header.html" . }}

<div class="grid gap-2 text-center mb-6">
  <h1 class="text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">Sign in to your account</h1>
  <p class="text-sm text-gray-600 dark:text-gray-400">Enter your email and password below</p>
</div>

<form method="post" action="{{ .PostURL }}" class="grid gap-4">
  <div class="grid gap-2">
    <label for="login" class="text-sm font-medium text-gray-900 dark:text-white">{{ .UsernamePrompt }}</label>
    <input 
      tabindex="1" 
      required 
      id="login" 
      name="login" 
      type="text" 
      class="flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" 
      placeholder="{{ .UsernamePrompt | lower }}" 
      {{ if .Username }} value="{{ .Username }}" {{ else }} autofocus {{ end }}
    />
  </div>
  
  <div class="grid gap-2">
    <label for="password" class="text-sm font-medium text-gray-900 dark:text-white">Password</label>
    <input 
      tabindex="2" 
      required 
      id="password" 
      name="password" 
      type="password" 
      class="flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" 
      placeholder="password" 
      {{ if .Invalid }} autofocus {{ end }}
    />
  </div>

  {{ if .Invalid }}
    <div id="login-error" class="p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md">
      Invalid {{ .UsernamePrompt }} and password.
    </div>
  {{ end }}

  <button 
    tabindex="3" 
    id="submit-login" 
    type="submit" 
    class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-900 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gray-900 text-white hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-900 dark:hover:bg-gray-200 h-10 px-4 py-2 w-full"
  >
    Sign In
  </button>
</form>

{{ if .BackLink }}
  <div class="mt-4 text-center">
    <a href="{{ .BackLink }}" class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white underline underline-offset-4">
      Select another login method
    </a>
  </div>
{{ end }}


<script type="text/javascript">
  document.querySelector('form').onsubmit = function(e) {
    var el = document.querySelector('#submit-login');
    el.setAttribute('disabled', 'disabled');
  };
</script>

{{ template "footer.html" . }}
